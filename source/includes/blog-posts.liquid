{% assign pageNumber = pagination.pageNumber | plus: 1 %}
{% assign pages = pagination.pages.size %}

{% if pages > 1 %}
  <p>Page {{ pageNumber }} of {{ pages }}</p>
  {% if pagination.href.previous %}
    <p>
      <a href="{{ pagination.href.previous }}">Previous page</a>
    </p>
  {% endif %}
{% endif %}

<ul class="blog-posts">
  {% for post in posts %}
    <li>
      {% unless forloop.first %}<hr>{% endunless %}
      <article>
        {% if post.data.title %}
          <h1>
            <a href="{{ post.url }}">{{ post.data.title }}</a>
          </h1>
        {% endif %}
        {% render 'attribution', date: post.date, author: post.data.author, link: post.url %}
        {{ post.content | truncateHTML: 300 | replaceInternalLinks: post.url }}
        {% render 'tags', tags: post.data.tags %}
      </article>
    </li>
  {% endfor %}
</ul>

{% if pagination.href.next %}
  <p>
    <a href="{{ pagination.href.next }}">Next page</a>
  </p>
{% endif %}
